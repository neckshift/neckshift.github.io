<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NeckShift</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <style>
    :root {
      --bg: #212121;
      --text: #B3A8A8;
      --muted: #AA9E9E;
      --line: #666;
      --card: rgba(48,48,48,0.6);
      --border: rgba(255,255,255,0.1);
      --btn-border: #888;
      --btn-bg-r: 43;
      --btn-bg-g: 43;
      --btn-bg-b: 43;
      --btn-bg-alpha: 0.30;
      --btn-bg-hover-alpha: 0.60;
      --btn-text: #e9e9e9;
    }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      text-align: center;
    }

    .section {
      margin: 30px auto 60px;
      padding: 0 20px;
      max-width: 1000px;
    }

    .background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      z-index: -1;
    }
    .background img {
      width: 100%; height: 100%;
      object-fit: cover;
      filter: brightness(0.4);
    }

    .menu-bar {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 12px;
      margin: 20px 0;
    }
    .menu-button {
      padding: 8px 14px;
      background: none;
      color: var(--muted);
      border: 1px solid var(--btn-border);
      border-radius: 8px;
      text-decoration: none;
      font-size: 14px;
    }
    .menu-button:hover {
      background: #555;
      color: #fff;
    }

    /* Zone admin */
    .admin-panel {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      backdrop-filter: blur(10px);
    }
    .admin-panel input[type="text"] {
      width: calc(100% - 10px);
      padding: 6px;
      margin-bottom: 8px;
      border-radius: 6px;
      border: 1px solid var(--btn-border);
    }
    .admin-panel textarea {
      width: calc(100% - 10px);
      height: 100px;
      padding: 6px;
      margin-bottom: 8px;
      border-radius: 6px;
      border: 1px solid var(--btn-border);
    }
    .admin-actions {
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .admin-actions input[type="file"] {
      display: none;
    }
    .file-label {
      background: var(--btn-border);
      padding: 4px 8px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
      color: #fff;
    }
    .publish-btn {
      background: #4caf50;
      color: white;
      padding: 6px 12px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 12px;
    }

    /* Feed */
    .post {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 16px;
      margin-bottom: 20px;
      display: flex;
      flex-direction: row;
      gap: 12px;
    }
    .post-text {
      flex: 1;
      font-size: 14px;
      color: var(--muted);
    }
    .post-media img, .post-media video {
      max-width: 200px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <div class="background">
    <img src="createbackground.png" alt="Fond d'Ã©cran">
  </div>

  <div class="section">
    <!-- Menu -->
    <div class="menu-bar">
      <a href="https://neckshift.github.io/comments" class="menu-button">Comments</a>
      <a href="https://ko-fi.com/anatomiesonore" target="_blank" class="menu-button">Support me</a>
      <button id="admin-btn" class="menu-button">Admin</button>
    </div>

    <!-- Zone admin (masquÃ©e par dÃ©faut) -->
    <div id="admin-panel" class="admin-panel" style="display:none;">
      <div style="margin-bottom:6px;">
        <a href="https://dash.cloudflare.com/cfd417bb1202fa09f4f046f06819c56f/r2/overview" target="_blank" style="color:#4aa3ff;font-size:12px;">
          Check Cloudflare / 10Go limite
        </a>
      </div>
      <input type="text" id="post-title" placeholder="Titre">
      <textarea id="post-content" placeholder="Votre texte..."></textarea>
      <div class="admin-actions">
        <label for="file-upload" class="file-label">ðŸ“Ž Fichier</label>
        <input type="file" id="file-upload" accept="image/*,video/*">
        <button id="publish-btn" class="publish-btn">Publier</button>
      </div>
    </div>

    <!-- Feed -->
    <div id="feed"></div>
  </div>

  <script>
    const adminBtn = document.getElementById('admin-btn');
    const adminPanel = document.getElementById('admin-panel');
    const publishBtn = document.getElementById('publish-btn');
    const feed = document.getElementById('feed');

    let isAdmin = false;

    adminBtn.addEventListener('click', () => {
      if (!isAdmin) {
        const pass = prompt("Mot de passe admin :");
        if (pass === "votre_mdp_admin") {
          isAdmin = true;
          adminPanel.style.display = "block";
        } else {
          alert("Mot de passe incorrect");
        }
      } else {
        isAdmin = false;
        adminPanel.style.display = "none";
      }
    });

    publishBtn.addEventListener('click', () => {
      const title = document.getElementById('post-title').value.trim();
      const content = document.getElementById('post-content').value.trim();
      const file = document.getElementById('file-upload').files[0];

      if (!title || !content) {
        alert("Titre et texte obligatoires");
        return;
      }

      const postEl = document.createElement('div');
      postEl.classList.add('post');

      const textEl = document.createElement('div');
      textEl.classList.add('post-text');
      textEl.innerHTML = `<h4>${title}</h4><p>${content}</p>`;

      const mediaEl = document.createElement('div');
      mediaEl.classList.add('post-media');
      if (file) {
        const url = URL.createObjectURL(file);
        if (file.type.startsWith("image/")) {
          mediaEl.innerHTML = `<img src="${url}" alt="media">`;
        } else if (file.type.startsWith("video/")) {
          mediaEl.innerHTML = `<video src="${url}" controls></video>`;
        }
      }

      postEl.appendChild(textEl);
      if (file) postEl.appendChild(mediaEl);
      feed.prepend(postEl);

      // RÃ©initialiser
      document.getElementById('post-title').value = '';
      document.getElementById('post-content').value = '';
      document.getElementById('file-upload').value = '';
    });
  </script>
</body>
</html>
